schema: '2.0'
stages:
  autoencoder:
    cmd: python src/autoencoder.py src/FCDataset.py
    deps:
    - path: src/FCDataset.py
      hash: md5
      md5: 3e88781651aabe7aa6047d97b9a7a64d
      size: 2312
    - path: src/autoencoder.py
      hash: md5
      md5: 561e20843499ca93ca6598b57e83de20
      size: 5399
    params:
      params.yaml:
        autoencoder:
          seed: 444
          architecture:
            layers_params:
              layer_params1:
                out_dim: 300
                drop_prob: 0.4
              layer_params2:
                out_dim: 300
                drop_prob: 0.4
              layer_params3:
                out_dim: 300
                drop_prob: 0.4
            out_layer_dim: 50
          optimizer:
            lr: 0.001
            beta1: 0.9
            beta2: 0.999
            eps: 1e-08
            weight_decay: 1e-06
          num_epochs: 1
    outs:
    - path: encoded_data.npy
      hash: md5
      md5: 496f712a92fee685549acea4b9335993
      size: 64128
      cloud:
        my_storage:
          etag: 496f712a92fee685549acea4b9335993
          version_id: 00062436588A9EDF
  clusterizer:
    cmd: python src/clusterizer.py encoded_data.npy
    deps:
    - path: encoded_data.npy
      hash: md5
      md5: 496f712a92fee685549acea4b9335993
      size: 64128
    - path: src/clusterizer.py
      hash: md5
      md5: cb4c2e04e2646883ec1c5ad42cbc23e9
      size: 1148
    params:
      params.yaml:
        autoencoder.seed: 444
    outs:
    - path: submission.csv
      hash: md5
      md5: e6f3f05dc6601a3b840a40dc9b737b5e
      size: 811
      cloud:
        my_storage:
          etag: e6f3f05dc6601a3b840a40dc9b737b5e
          version_id: 00062436588ABED4
